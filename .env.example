# Database Configuration
# Personal Network CRM - Environment Variables Template

# =============================================================================
# DATABASE
# =============================================================================

# Primary database URL (application role with RLS)
DATABASE_URL="postgresql://pmcrm_user:YOUR_PASSWORD@localhost:5432/pmcrm_dev?schema=public&connection_limit=20&pool_timeout=10"

# Service role URL (bypasses RLS for background jobs)
DATABASE_URL_SERVICE="postgresql://service_role:YOUR_SERVICE_PASSWORD@localhost:5432/pmcrm_dev?schema=public"

#
REDIS_URL=redis://localhost:6379

# PgBouncer connection pooler (production)
# DATABASE_URL="postgresql://pmcrm_user:YOUR_PASSWORD@localhost:6432/pmcrm?schema=public"

# =============================================================================
# ENVIRONMENT
# =============================================================================

NODE_ENV="development"  # development | production | test

# =============================================================================
# SECURITY
# =============================================================================

# Encryption key for sensitive data (integration tokens, etc.)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY="YOUR_ENCRYPTION_KEY_HERE"

# JWT Secret for authentication
# Generate with: openssl rand -base64 64
JWT_SECRET="YOUR_JWT_SECRET_HERE"

# =============================================================================
# EXTERNAL SERVICES (For future integrations)
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft Graph
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""

# LinkedIn
LINKEDIN_CLIENT_ID=""
LINKEDIN_CLIENT_SECRET=""

# OpenAI / Claude API
OPENAI_API_KEY=""
ANTHROPIC_API_KEY=""

# Data Enrichment
APOLLO_API_KEY=""
CLEARBIT_API_KEY=""

# WhatsApp Business
WHATSAPP_BUSINESS_ACCOUNT_ID=""
WHATSAPP_ACCESS_TOKEN=""

# =============================================================================
# FEATURE FLAGS
# =============================================================================

ENABLE_AUDIT_LOGGING="true"
ENABLE_FULL_TEXT_SEARCH="true"
ENABLE_AI_INSIGHTS="false"  # Enable after AI service setup

# =============================================================================
# PERFORMANCE
# =============================================================================

# Connection pool settings
DB_POOL_MIN="5"
DB_POOL_MAX="20"
DB_IDLE_TIMEOUT_MS="60000"
DB_CONNECTION_TIMEOUT_MS="10000"

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL="info"  # debug | info | warn | error
PRISMA_LOG_QUERIES="false"  # Set to "true" for query debugging

# =============================================================================
# OAUTH & INTEGRATIONS
# =============================================================================

# OAuth Token Encryption Key (required for Google Contacts integration)
OAUTH_ENCRYPTION_KEY=YOUR_ENCRYPTION_KEY

# Application URL for OAuth callbacks
APP_URL=http://localhost:3001

# =============================================================================
# FRONTEND (NEXT_PUBLIC_ prefix required for client-side)
# =============================================================================

NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_AUTH_URL=http://localhost:3001

# =============================================================================
# BETTER AUTH (replaces JWT)
# =============================================================================

# Secret key for better-auth (signing tokens and cookies)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET="YOUR_BETTER_AUTH_SECRET_HERE"

# Base URL for better-auth callbacks
BETTER_AUTH_URL="http://localhost:3001"

# Trusted origins for CORS
BETTER_AUTH_TRUSTED_ORIGINS="http://localhost:3000,http://localhost:3001"
